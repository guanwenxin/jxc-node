<html lang="zh-CN">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>用户注册</title>
  <link rel="stylesheet" href="index_log.css" />
</head>

<body>
  <div class="background"></div>
  <div class="container">
     <!-- 左边 -->
     <div class="item">
      <h2 class="logo"><i class='bx bxl-xing'></i>guan企业进销存管理系统</h2>
      <div class="text-item">
          <h2>Welcome! <br><span>
              To G Invoicing and inventory management system
          </span></h2>
          <p>Every penny of hard work is a harvest!!!</p>
      </div>
  </div>

<!-- 注册部分start -->
<div class="login-section">
  <div class="login">
    <h2>用户注册</h2>
    <div class="login_box">
      <!-- required就是不能为空  必须在css效果中有很大的作用 -->
      <input type="text" name="account" id="account" required autocomplete="off" />
      <label for="account">用户名</label>
    </div>
    <div class="login_box">
      <input type="password" name="password" id="password" required="required" />
      <label for="password">密码</label>
    </div>
    <div class="login_box">
      <input type="password" name="qrpassword" id="qrpassword" required="required" />
      <label for="qrpassword">确认密码</label>
    </div>

    <div class="login_reg">
      <a href="javascript:void(0)" id="register">
        注册
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </a>
    </div>
  </div>
</div>
  <!-- 注册部分end -->



</body>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
<script>
  $("#register").on("click", function () {
    let account = $("#account").val();
    let password = $("#password").val();
    let qrpassword = $("#qrpassword").val();
    if (account) {
      if (password) {
       if(password!=qrpassword){
           alert('两次输入的密码不一致!!')
       }else{
        $.post("http://localhost:3000/register", {
          account,
          password,
        }).then((res) => {
          if (res.code == 200) {
            location.href='http://localhost:3000'
            alert(res.msg);
            
          } else {
            alert(res.msg);
          }
        });
       }
      } else {
        alert("密码不能为空");
      }
    } else {
      alert("账号不能为空值");
    }
  });
</script>

</html>