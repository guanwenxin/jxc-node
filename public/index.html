<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>用户登录</title>
    <link rel="stylesheet" href="./login/index_log.css" />
  </head>

  <body>
    <div class="login">
      <h2>用户登录</h2>
      <div class="login_box">
        <!-- required就是不能为空  必须在css效果中有很大的作用 -->
        <input type="text" name="account" id="account" required autocomplete="off" />
        <label for="username">用户名</label>
      </div>
      <div class="login_box">
        <input
          type="password"
          name="password"
          id="password"
          autocomplete="off"
          required="required"
        />
        <label for="password">密码</label>
      </div>
      <div class="login_reg">
        <a href="javascript:void(0)" id="login">
          登录
          <span></span>
          <span></span>
          <span></span>
          <span></span> </a
        ><a href="./login/register.html">
          注册
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </a>
      </div>
    </div>
  </body>
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
  <script>
    $("#login").on("click", function () {
      let account = $("#account").val();
      let password = $("#password").val();
      $.post("http://localhost:3000/login", {
        account,
        password,
      }).then((res) => {
        if(res.code==200){
          location.href=`http://localhost:5000/?account=${account}`
          alert(res.msg)
        }else{
          alert(res.msg)
        }
      });
    });
  </script>
</html>
